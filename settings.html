<DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>PMR</title>

<link rel="stylesheet" type="text/css"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<link rel="icon" href="favicon.ico?" type="image/x-icon">

<link
	href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css"
	rel="stylesheet">
<script
	src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/reset.css">
<link rel="stylesheet" type="text/css" href="css/style.css">

<link rel="stylesheet" href="css/jquery.collapsibleCheckboxTree.css"
	type="text/css" />
<link rel="stylesheet" href="css/settings.css" type="text/css" />
<script src="js/modernizr.js"></script>


<script type="text/javascript"
	src="js/jquery.collapsibleCheckboxTree.js"></script>

<script src="js/main.js"></script>

</head>
<body style="height: 100%">


	<!-- header large -->
	<div class="main-nav row header header-row"
		style="box-shadow: 0px -3px 31px 5px rgba(4, 40, 111, 0.4);">
		<div class="col-md-4 col-sm-4 col-xs-4 grad"
			style="background-color: #4286f4">
			<div class="title-button button-left">
				<a class="pmr-logo" style="color: blue" href="#">PMR</a>
			</div>
		</div>
		<div class="col-md-6 col-sm-6 col-xs-6 header-button "
			style="background-color: #4286f4; padding: 22px"></div>
		<div class="col-md-2 col-sm-2 col-xs-2"
			style="background-color: #4286f4">
			<div class="header-button button-right">
				<a class="cd-signup" href="#0">Welcome back </a>
			</div>
		</div>
	</div>
	<!-- header large-->


	<div id="mid-block-f"
		style="height: 80%; display: none; position: absolute;" class="row">
		<div class="col-md-12"
			style="height: 100%; position: relative; top: 50%; background-color: #f2f2f2; transform: translateY(-50%); border: 2px solid green; border-radius: 10px; -webkit-box-shadow: 0px 3px 13px 3px rgba(4, 40, 111, 0.4); -moz-box-shadow: 0px 3px 13px 3px rgba(4, 40, 111, 0.4); box-shadow: 0px 3px 13px 3px rgba(4, 40, 111, 0.4);">
			<a href="#" class="close"></a>
			<h1 id="fav-header">Favorites</h1>
			<h2 id="fav-subheader">Customize your alerts for specific
				players, teams, or entire leagues!</h2>
			<form id="tree-selector" action="" method="post">
				<ul id="example">
					 <!-- <li id="premier_league"><input type="checkbox" name="" />
						Pasdfasdfasdfasdf
						<ul id="team">
							<li><input type="checkbox" name="" checked="checked" />
								asdfasdf
								<ul id="player">
									<li><input type="checkbox" name="" /> Ryan Giggs</li>
									<li><input type="checkbox" name="" /> Paul Scholes</li>
									<li><input type="checkbox" name="" /> Wayne Rooney</li>
								</ul></li>
							<li><input type="checkbox" name="" /> Chelsea
								<ul>
									<li><input type="checkbox" name="" /> Joe Cole</li>
									<li><input type="checkbox" name="" /> Frank Lampard</li>
									<li><input type="checkbox" name="" /> Didier Drogba</li>
									<li><input type="checkbox" name="" /> John Terry</li>
								</ul></li>
							<li><input type="checkbox" name="" /> Liverpool
								<ul>
									<li><input type="checkbox" name="" /> Fernando Torres</li>
									<li><input type="checkbox" name="" /> Steven Gerrard</li>
								</ul></li>
						</ul></li>   -->
				</ul>
			</form>

			<button type="button" class="btn btn-default btn-apply-green"
				style="margin-top: 15px; width: 100%;">APPLY</button>
		</div>
	</div>

	<div id="mid-block-s"
		style="height: 80%; display: none; position: absolute;" class="row">
		<div class="col-md-12"
			style="height: 100%; position: relative; top: 50%; background-color: #f2f2f2; transform: translateY(-50%); border: 2px solid #4286f4; border-radius: 10px; -webkit-box-shadow: 0px 3px 13px 3px rgba(4, 40, 111, 0.4); -moz-box-shadow: 0px 3px 13px 3px rgba(4, 40, 111, 0.4); box-shadow: 0px 3px 13px 3px rgba(4, 40, 111, 0.4);">
			<a href="#" class="close"></a>
			<h1 id="settings-header">Settings</h1>
			<h2 id="settings-subheader">Adjust notifications and other
				settings</h2>

			<div id="settings-content">
				<ul>
					<li class="settings-options"><input type="checkbox"
						data-toggle="toggle" data-on="On" data-off="Off">
						<p style="display: inline-block; padding-left: 10px">Receive
							notifications via email</p></li>

					<li class="settings-options"><input type="checkbox"
						data-toggle="toggle" data-on="On" data-off="Off">
						<p style="display: inline-block; padding-left: 10px">Receive
							notifications via SMS</p></li>

					<li class="settings-options"><input type="checkbox"
						data-toggle="toggle" data-on="On" data-off="Off">
						<p style="display: inline-block; padding-left: 10px">Temporarily
							suspend all notifications for</p> <input type="text"
						class="form-control" id="usr"
						style="display: inline-block; width: 50px">
						<p style="display: inline-block; padding-left: 10px">hours</p></li>

				</ul>
			</div>

			<button type="button" class="btn btn-default btn-apply-blue"
				style="margin-top: 15px; width: 100%;">APPLY</button>
		</div>
	</div>


	<div id="btn_cont">
		<div class="btn-diag btn-left">
			<span>SET FAVORITES</span>
		</div>
		<div class="btn-diag btn-right">
			<span>SETTINGS</span>
		</div>
	</div>


	<div class="row about-box"
		style="width: 80%; margin-left: 10%; margin-top: 100px">
		<div class="col-md-12">
			<div id="about">
				<h1 id="about-header"
					style="text-align: center; padding-bottom: 40px; font-size: 25px; font-weight: bold; color: #4286f4">About</h1>

				<p>
					With PMR, you can select European soccer players, teams, or leagues
					you are interested in following. When a highlight by one of your
					selected players is posted on the internet, we'll send you an HD
					video link - within minutes! <br> <br>We crawl a number
					of sites regularly. For every play posted in a play-by-play feed
					you might check on your phone, we cross-reference that play with
					video clips posted online minutes later, and send these links
					directly to you! <br> <br>If you don't have time to watch
					your game, we'll keep you caught up on any big plays you might have
					missed! <br> <br>Got the game recorded already and want
					to avoid spoilers? No problem! Modify your settings to opt-out of
					notifications for a number of hours.
				</p>

			</div>
		</div>
	</div>

	<!-- footer -->
	<ul class="footer"
		style="box-shadow: 0px 6px 31px 5px rgba(4, 40, 111, 0.4);">
		<li class="button-left"><a class="pmr-logo" href="#"></a></li>
		<li class="button-right"><a href="#">Terms</a></li>
		<li class="button-right"><a href="#">Contact Us</a></li>
	</ul>


	<script>
	
	var serverUrl = "http://localhost:8080"
	players = {}
	
		$(document).ready(function(){
			$.ajax({
				type : "GET",
				url : serverUrl + "/retrievePlayers",
				success : function(result) {
					console.log(JSON.parse(result).list)
					generateHTML(JSON.parse(result))
				}
			});
		});
	
		
	 	 function generateHTML(result) {
			/* if ($("#example").children().length === 0) {
				$("#example").append("<li id='" + result.list[0].league.split(" ").join("").replace("/","") + "'><input type='checkbox' name='' />" + result.list[0].league + "<ul id='team'></ul></li>")
				$("#example").children().find("#team").append("<li id='" + result.list[0].team.split(" ").join("") + "'><input type='checkbox' name='' checked='checked' />" + result.list[0].team + "<ul id='player'></ul></li>")
				$("#example").children().find("#team").find("#player").append("<li id='" + result.list[0].player.split(" ").join("") + "'><input type='checkbox' name='' />" + result.list[0].player + "</li>")
			} */
			for (var i=0; i<result.list.length; i++) {
				console.log(i)
				if ($("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).length > 0) {
					if ($("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").find("#" + result.list[i].team.split(" ").join("").replace("/","").replace(".","")).length > 0) {
						if ($("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").find("#" + result.list[i].team.split(" ").join("").replace("/","").replace(".","")).find("#player").find("#" + result.list[i].player.split(" ").join("").replace("/","").replace("'", "").replace(".","").replace("?","")).length > 0) {
							//do nothing
						} else {
							$("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").find("#" + result.list[i].team.split(" ").join("").replace("/","").replace(".","")).find("#player").append("<li id='" + result.list[i].player.split(" ").join("").replace("'", "").replace(".","").replace("?","") + "'><input type='checkbox' name='' />" + result.list[i].player + "</li>")
						}
					} else {
						$("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").append("<li id='" + result.list[i].team.split(" ").join("").replace(".","") + "'><input type='checkbox' name='' checked='checked' />" + result.list[i].team + "<ul id='player'></ul></li>")
						$("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").find("#" + result.list[i].team.split(" ").join("").replace("/","").replace(".","")).find("#player").append("<li id='" + result.list[i].player.split(" ").join("").replace("'","").replace(".","").replace("?","") + "'><input type='checkbox' name='' />" + result.list[i].player + "</li>")
					}
				} else {
					$("#example").append("<li id='" + result.list[i].league.split(" ").join("").replace("/","").replace(".","") + "'><input type='checkbox' name='' />" + result.list[i].league + "<ul id='team'></ul></li>")
					$("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").append("<li id='" + result.list[i].team.split(" ").join("").replace(".","") + "'><input type='checkbox' name='' checked='checked' />" + result.list[i].team + "<ul id='player'></ul></li>")
					$("#example").find("#" + result.list[i].league.split(" ").join("").replace("/","").replace(".","")).find("#team").find("#player").append("<li id='" + result.list[i].player.split(" ").join("").replace("'","").replace(".","").replace("?","") + "'><input type='checkbox' name='' />" + result.list[i].player + "</li>")
				}
			}
			$('ul#example').collapsibleCheckboxTree({
				checkParents : false, // When checking a box, all parents are checked (Default: true)
				checkChildren : true, // When checking a box, all children are checked (Default: false)
				shiftClickEffectChildren : true, // When shift-clicking a box, all children are checked or unchecked (Default: true)
				uncheckChildren : true, // When unchecking a box, all children are unchecked (Default: true)
				includeButtons : true, // Include buttons to expand or collapse all above list (Default: true)
				initialState : 'collapse' // Options - 'expand' (fully expanded), 'collapse' (fully collapsed) or default
			});
			$("button#expand").css("display", "none")
			$("button#collapse").css("display", "none")
			$("button#default").css("display", "none")
		}  
		
		
		

		jQuery(document).ready(
				
				
					
				function() {
					$('ul#example').collapsibleCheckboxTree({
						checkParents : false, // When checking a box, all parents are checked (Default: true)
						checkChildren : true, // When checking a box, all children are checked (Default: false)
						shiftClickEffectChildren : true, // When shift-clicking a box, all children are checked or unchecked (Default: true)
						uncheckChildren : true, // When unchecking a box, all children are unchecked (Default: true)
						includeButtons : true, // Include buttons to expand or collapse all above list (Default: true)
						initialState : 'collapse' // Options - 'expand' (fully expanded), 'collapse' (fully collapsed) or default
					});
					if ($(window).width() > 992) {
						$("#tree-selector").css("height",
								parseInt($("#mid-block-f").height()) - 270) /*   un-hardcode this*/
					} else {
						$("#tree-selector").css("height",
								parseInt($("#mid-block-f").height()) - 320) /*   un-hardcode this*/
					}

					$("#expand").css("display", "none")
					$("#collapse").css("display", "none")
					$("#default").css("display", "none")

				});

		if ($(window).width() > 992) {
			$("#settings-content").css("height",
					parseInt($("#mid-block-s").height()) - 270) /*   un-hardcode this*/
		} else {
			$("#settings-content").css("height",
					parseInt($("#mid-block-s").height()) - 320) /*   un-hardcode this*/
		}

		var rightExpanded = false;
		const
		rightInitOffset = $(".btn-right").offset();
		var leftExpanded = false;
		const
		leftInitOffset = $(".btn-left").offset();

		$('.btn-left')
				.on(
						'click',
						function() {
							if (!leftExpanded) {
								leftExpanded = true;
								$('.btn-left').toggleClass('clicked');
								$('.btn-left').toggleClass('hovered');
								$("#btn_cont").css("border", "none")
								$(".btn-right").hide();
								$(".about-box").hide();

								$(".btn-left")
										.animate(
												{
													top : "-="
															+ (parseInt($(
																	".btn-left")
																	.offset().top) - parseInt($(
																	".header-row")
																	.height()))
															+ "px",
													left : "-="
															+ (parseInt($(
																	".btn-left")
																	.offset().left))
															+ "px"
												})
								$("#mid-block-f").css("display", "block")
								$("#mid-block-f")
										.css(
												"height",
												(parseInt($(window).height())
														- parseInt($(
																".header-row")
																.height()) - parseInt($(
														".footer").height()))
														/ 2
														+ $(window).height()
														/ 4)
								$("#mid-block-f")
										.css(
												"top",
												parseInt($(".header-row")
														.height())
														+ (parseInt($(window)
																.height()
																- (parseInt($(
																		".header")
																		.height())
																		+ parseInt($(
																				".footer")
																				.height()) + ((parseInt($(
																		window)
																		.height())
																		- parseInt($(
																				".header-row")
																				.height()) - parseInt($(
																		".footer")
																		.height())) / 2 + $(
																		window)
																		.height() / 4))) / 2))
								$("#mid-block-f").css(
										"width",
										$(window).width() - $(window).width()
												/ 5)
								$("#mid-block-f").css("left",
										$(window).width() / 10)

							} else {
								leftExpanded = false;
								$('.btn-left').toggleClass('clicked');
								$('.btn-left').toggleClass('hovered');
								$("#btn_cont").css("border", "2px solid #fff")
								$(".btn-right").show();
								$(".about-box").show();

								$("#mid-block-f").hide();
								$(".btn-left")
										.animate(
												{
													top : "+="
															+ (parseInt(leftInitOffset.top)
																	- parseInt($(
																			".header-row")
																			.height()) - 2)
															+ "px",
													left : "+="
															+ (parseInt(leftInitOffset.left) - 2)
															+ "px"
												})
							}

						});

		$('.btn-right')
				.on(
						'click',
						function() {
							if (!rightExpanded) {
								rightExpanded = true;
								$(".btn-right").toggleClass('clicked');
								$(".btn-right").toggleClass('hovered');
								$("#btn_cont").css("border", "none")
								$(".btn-left").hide();
								$(".about-box").hide();

								$(".btn-right")
										.animate(
												{
													top : "-="
															+ (parseInt($(
																	".btn-right")
																	.offset().top
																	+ parseInt($(
																			"#btn_cont")
																			.height())
																	- parseInt($(
																			".footer")
																			.offset().top)
																	+ 20))
															+ "px",
													left : "+="
															+ (parseInt($(
																	window)
																	.width()
																	- parseInt($(
																			".btn-right")
																			.offset().left)
																	- parseInt($(
																			".btn-right")
																			.width())
																	- 80))
															+ "px"
												})
								$("#mid-block-s").css("display", "block")
								$("#mid-block-s")
										.css(
												"height",
												(parseInt($(window).height())
														- parseInt($(
																".header-row")
																.height()) - parseInt($(
														".footer").height()))
														/ 2
														+ $(window).height()
														/ 4)
								$("#mid-block-s")
										.css(
												"top",
												parseInt($(".header-row")
														.height())
														+ (parseInt($(window)
																.height()
																- (parseInt($(
																		".header")
																		.height())
																		+ parseInt($(
																				".footer")
																				.height()) + ((parseInt($(
																		window)
																		.height())
																		- parseInt($(
																				".header-row")
																				.height()) - parseInt($(
																		".footer")
																		.height())) / 2 + $(
																		window)
																		.height() / 4))) / 2))
								$("#mid-block-s").css(
										"width",
										$(window).width() - $(window).width()
												/ 5)
								$("#mid-block-s").css("left",
										$(window).width() / 10)

							} else {
								rightExpanded = false;
								$(".btn-right").toggleClass('clicked');
								$(".btn-right").toggleClass('hovered');
								$("#btn_cont").css("border", "2px solid #fff");
								$(".btn-left").show();
								$(".about-box").show();

								$("#mid-block-s").hide();
								$(".btn-right")
										.animate(
												{
													top : "-="
															+ (parseInt($(
																	window)
																	.height())
																	- parseInt(rightInitOffset.top)
																	- parseInt($(
																			".footer")
																			.height())
																	- parseInt($(
																			".header-row")
																			.height()) + ((parseInt($(
																	window)
																	.width()) < 1641) ? 11
																	: -5))
															+ "px",
													left : "-="
															+ (parseInt(rightInitOffset.left)
																	- parseInt($(
																			".btn-right")
																			.width()) - 80)
															+ "px"
												})
							}
						});

		$('.close, .btn-cancel')
				.on(
						'click',
						function() {
							if (leftExpanded) {
								leftExpanded = false;
								$('.btn-left').toggleClass('clicked');
								$('.btn-left').toggleClass('hovered');
								$("#btn_cont").css("border", "2px solid #fff")
								$(".btn-right").show();
								$(".about-box").show();

								$("#mid-block-f").hide();
								$(".btn-left")
										.animate(
												{
													top : "+="
															+ (parseInt(leftInitOffset.top) - parseInt($(
																	".header-row")
																	.height()))
															+ "px",
													left : "+="
															+ (parseInt(leftInitOffset.left))
															+ "px"
												})
							}
							if (rightExpanded) {
								rightExpanded = false;
								$(".btn-right").toggleClass('clicked');
								$(".btn-right").toggleClass('hovered');
								$("#btn_cont").css("border", "2px solid #fff");
								$(".btn-left").show();
								$(".about-box").show();

								$("#mid-block-s").hide();
								$(".btn-right")
										.animate(
												{
													top : "-="
															+ (parseInt($(
																	window)
																	.height())
																	- parseInt(rightInitOffset.top)
																	- parseInt($(
																			".footer")
																			.height())
																	- parseInt($(
																			".header-row")
																			.height()) + ((parseInt($(
																	window)
																	.width()) < 1641) ? 11
																	: -5))
															+ "px",
													left : "-="
															+ (parseInt(rightInitOffset.left)
																	- parseInt($(
																			".btn-right")
																			.width()) - 80)
															+ "px"
												})
							}
						});
	</script>

</body>
</html>